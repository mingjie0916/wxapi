物流费用的计算方法:
价格表:
    自动更新导入数据库,人工审核?

    燃油附加费 可以自动抓取更新:
    ups:
    http://www.ups.com/content/cn/zh/shipping/cost/zones/fuel_surcharge.html
    dhl:
    http://www.cn.dhl.com/zh/express/shipping/shipping_advice/express_fuel_surcharge.html
    fedex:
    http://www.fedex.com/cn/rates/dfs.html
    tnt:
    http://www.tnt.com/express/zh_cn/site/home/support/surcharges.html

    物流运输方式:紧急货运,空运,海运

    空运燃油附加费:
    http://www.tnt.com/express/zh_cn/site/home/support/_1.html

其他费用:
    http://www.tnt.com/express/zh_cn/site/home/support/_______1.html

    tnt 体积重:
    http://www.tnt.com/express/zh_cn/site/home/support/tnt______________.html

    w*l*h(m^3)*200(kg/m^3)

挂号费:
    

    参考 ISHIP实时物流运费与包裹跟踪查询接口
    http://www.sfcservice.com/app/upload/sampleCode/ISHIP.pdf

    快递术语:
    http://www.spb.gov.cn/ftp/1_jibenshuyu.pdf


    tnt 快递
    http://www.yw56.com.cn/Price_tnt.asp

    下载联邦快递价目表:
    2013国际优先快递服务 (付款方为中国大陆客户)
    不适用于广东省及福建省地区 :
    http://images.fedex.com/downloads/cn/rates/cno_ip_2013.pdf

    2013国际经济快递服务 (付款方为中国大陆客户)
    不适用于广东省及福建省地区 
    http://images.fedex.com/downloads/cn/rates/cno_ie_2013.pdf


    2013联邦快递10公斤/25公斤快递箱价目表 (付款方为中国大陆客户)
    不适用于广东省及福建省地区 
    http://images.fedex.com/downloads/cn/rates/cno_box_2013.pdf






                    参考:http://seller.aliexpress.com/education/store/freight/charge.html

                     国际运费计算方法分以下七步：

                        1．计费重量单位：
                        一般以每0.5KG（0.5公斤）为一个计费重量单位。 
                        2．首重与续重： 
                        以第一个0.5KG为首重(或起重)，每增加0.5KG为一个续重。 通常起重的费用相对续重费用较高。 
                        3．实重与材积： 
                        实重，是指需要运输的一批物品包括包装在内的实际总重量。 
                        体积重量或材积，是指当需要寄递的物品体积较大而实重较轻时，因运输工具（飞机、火车、船、汽车等）承载能力及能装载物品的体积所限，需要采取量取物品体积折算成重量作为计算运费的重量的方法。 
                        轻抛物，是指体积重量大于实际重量的物品。 
                        4．计费重量：
                         按实重与材积两者的定义，与国际航空货运协会的规定，货物运输过程中计收运费的重量是按整批货物的实际重量和体积重量两者之中，较高的一方计算的。 
                        5．包装费
                        一般情况下，快递公司是免费包装的，提供纸箱、气泡等包装材料。如衣物，不用特别细的包装就可以。而一些贵重、易碎物品，快递公司需要收取一定的包装费用。而包装费用一般不计入折扣。 
                        6．通用运费计算公式：
                        A) 当需寄递物品实重大于材积时，运费计算方法为： 
                            首重运费＋(重量（公斤）×2－1)×续重运费
                        例如：5KG货品按首重150元、续重30元计算，则运费总额为：150＋(5×2-1)×30=420元
                         B) 当需寄递物品实际重量小而体积较大，运费需按材积标准收取，然后再按上列公式计算运费总额。
                Fedex、UPS、DHL、TNT 体积重量(公斤kg)=长(cm)×宽(cm)×高(cm)/5000 
                         自2012年7月1日起，EMS线上发货针对邮件长、宽、高三边中任一单边达到60CM以上（包含60CM）的，都需要进行计体积重操作，体积重量(公斤kg)=长(CM)X宽(CM)X高(CM)/6000。长、宽、高测量值精确到厘米，厘米以下去零取整。 
                         C)国际快件有时还会加上燃油附加费 
                        例如，燃油附加费为9%时，还需要在公式(A)的结果加上：运费×9%
                        4)香港、中国邮政挂号小包运费：一般包括基本运费、处理费、挂号费等；
                        7．总费用：
                        从上面的得出：
                总费用＝(运费＋燃油附加费)×折扣＋包装费用＋其它费用

                案例：某公司想寄21公斤普通货包裹从上海到德国，总运费多少？
                         答：公司选择某快递公司A，首重0.5公斤260元，续重0.5公斤/60元, 燃油附加费10%，折扣为8折。计算如下 
                运费=260+(21×2-1) ×60=2720元
                总费用=2720×(1＋10%)×80%=2393.6元
                         此外，某些快递公司对部分航线有特殊优惠价。例如，超过21公斤时，它可以以一个特定的统一价计费。对于上例，通过这家快递公司可以给到一个每公斤60元的价格： 对应总费用=21×60×(1＋10%)=1386元
                        当然，此种优惠价格，并不是所有公司每条航线都有。详细情况请以具体快递公司报价为准。一般价格可以直接跟对应快递公司电话确认。基本上各大快递公司的价格相近，但是如果有跟对应快递公司签订相应协议的话，会有比较优惠的协议价格。

                    

            计算运费 商品
            要实现接口
            interface Calculate_Shipping{
                public getWeight();
                public getBulk();

            }
            //物流公司
            class Logistics_Base{
                public $base_const;//首重
                public $add_const;//续重重
                public $BAF;//燃油附加费
                public $discount=1.0 //折扣

                public function calc(Calculate_Shipping $product){
                        //体积重量
                        $bulk_weight=$product->getBulk()/5000 ;//
                        $weight=$product->getWeight();
                        $weight=$weight>$bulk_weight?$weight:$bulk_weight;
                        $base=$this->base_const;
                        if($weight>0.5){
                            $base+=($weight*2-1)*$this->add_const;
                        }
                        $base=$base *　＄this->BAF * $this->discount;

                        //包装费用如何计算?
                        $back_const=0;
                        $base+=$back_const;
                        
                }
            }
            
